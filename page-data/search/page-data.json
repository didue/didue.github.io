{"componentChunkName":"component---src-pages-search-tsx","path":"/search/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"rawMarkdownBody":"\r\n![](https://media.vlpt.us/images/3rd-big/post/6304e3ad-127b-4392-8a0b-da0c942bb556/sonarqube-logo@2x.png)\r\n<br/><br/>\r\n\r\n## SonarScanner \r\n\r\n소나큐브 설치 도입기였던 [이전 게시글](https://didue.github.io/sonarqube-first/)에 이어서 이번에는 `SonarScanner(소나스캐너)` 설치하여 코드분석을 실행해보겠습니다.\r\n<br/>\r\n\r\n`소나스캐너`는 소나큐브가 버그나 취약점 등 코드 분석과 자동 리뷰할 수 있도록 코드를 읽는 스캐너입니다. \r\n<br/><br/>\r\n\r\n### 1. 소나스캐너 설치\r\n\r\n소나큐브 설치와 마찬가지로 [소나소스 다운로드](https://docs.sonarqube.org/latest/analysis/scan/sonarscanner/)페이지에서 원하는 타입에 맞추어 `소나스캐너`를 설치합니다. \r\n\r\n*`maven 또는 gradle` 프로젝트를 쓰시는 분들은 `dependency`를 통해서 프로젝트에 설치*하시거나 *`jenkins`의 플러그인으로 설치*하실 수 있습니다. 하지만 저는 서버에 직접 설치하는 방법으로 해보겠습니다!\r\n<br/><br/>\r\n\r\n```\r\n#설치경로 이동\r\ncd /opt\r\n\r\n#소나스캐너 설치 \r\nwget https://binaries.sonarsource.com/Distribution/sonar-scanner-cli/sonar-scanner-cli-4.6.2.2472-linux.zip\r\n\r\n#압축해제\r\nunzip sonar-scanner-cli-4.6.2.2472-linux.zip\r\n\r\n#디렉토리명 변경\r\nrename sonar-scanner-cli-4.6.2.2472-linux sonar-scanner\r\n\r\n#환경변수 등록\r\nexport PATH=$PATH:/opt/sonar-scanner/bin\r\n```\r\n<br/>\r\n\r\n### 2. 소나스캐너 프로젝트 설정\r\n소나스캐너 설치가 완료되었다면 소나큐브 웹 콘솔을 통해 프로젝트를 등록하는 일은 선행해야 합니다. 프로젝트 생성은 '' 메뉴에서 추가할 수 있습니다.\r\n\r\n![웹콘솔 사진]()\r\n<br/><br/>\r\n\r\n이제 소나큐브 웹 콘솔에 프로젝트 등록을 마쳤다면 소스코드가 있는 프로젝트의 `root 경로`에 `sonar-project.properties`라는 설정파일을 생성하여 조금 전 만든 소나큐브 프로젝트 설정파일을 아래와 같이 작성하여 줍니다.\r\n\r\n![소나스캐너프로젝트 파일 이미지]()\r\n<br/><br/>\r\n\r\n```\r\n# 소나큐브에서 등록한 프로젝트 key\r\nsonar.projectKey=my:project\r\n\r\n# 소나큐브에서 등록한 프로젝트 이름\r\nsonar.projectName=My project\r\n# 프로젝트 버전\r\nsonar.projectVersion=1.0\r\n \r\n# 스캔할 소스 범위 (defaults : .)\r\n#sonar.sources=.\r\n \r\n# 소스코드 인코딩(default : UTF-8)\r\n#sonar.sourceEncoding=UTF-8\r\n```\r\n<br/>\r\n\r\n### 3. 소나스캐너 실행\r\n자, 이제 모든 준비가 끝났습니다. 이제 `sonar-project.properties` 파일이 있는 경로에서 아래의 command로 소나스캐너를 실행하여 우리 프로젝트의 코드를 스캔해봅시다!\r\n<br/><br/>\r\n\r\n```\r\nsonar-scanner -Dsonar.login=myAuthenticationToken\r\n```\r\n<br/>\r\n\r\n*Tada!* 이제 소나큐브 콘솔에 프로젝트의 코드 분석 결과가 나타날 것 입니다. \r\n여기까지 소나스캐너 설치는 완료되었습니다. \r\n소나큐브를 활용하여 코드 리팩토링하여 코드를 개선한 경험에 대한 내용은 `(3편)활용편`에서 곰방 다시 돌아오겠습니다💁‍♀️\r\n\r\n<br/>\r\n\r\n<hr/>\r\n<br/>\r\n\r\n### 참고\r\n\r\n- [sonarqube docs 9.0](https://docs.sonarqube.org/latest/analysis/scan/sonarscanner/)\r\n- [sonarqube scanner documentation](https://plugins.jenkins.io/sonar/)\r\n- [무작정따라하기 블로그](https://dololgun.github.io/sonarqube/sonarqube/)","excerpt":"SonarScanner 소나큐브 설치 도입기였던 이전 게시글에 이어서 이번에는  설치하여 코드분석을 실행해보겠습니다.\n 는 소나큐브가 버그나 취약점 등 코드 분석과 자동 리뷰할 수 있도록 코드를 읽는 스캐너입니다. \n 1. 소나스캐너 설치 소나큐브 …","fields":{"slug":"/sonarqube_2/"},"frontmatter":{"date":"Aug 17, 2021","title":"코드 품질관리 SonarQube 도입기(2) - 실행하기","tags":["TIL","SonarQube","PostgresQL"],"update":"Jan 01, 0001"}}},{"node":{"rawMarkdownBody":" \r\n\r\n운영 유지보수 프로젝트에서 업무를 하다 보니, 생각보다 더 많은 부정확한 중복데이터가 있어 자주 곤란한 상황들이 있었습니다. 그때마다 시간을 들여서 개선하는 것보단 당장의 과업을 해결하기 위해 엑셀 1차 가공 및 2차 수작업 정비와 같은 비효율적인 작업들을 많이 해왔습니다. (~~일일이 눈으로 8천건 중복찾기라던가...물론 자의가 아니라 타의에 의해..T0T~~\r\n\r\n<br/>\r\n\r\n그 중에 가장 큰 업무가 `중복데이터 제거`하기 였습니다. [공공데이터포털](https://code.go.kr) 이라는 공공개방 데이터를 활용한 2차 서비스를 기능 개발하는 업무가 다수 있었으나, 생각보다 공공데이터포털의 자료는 최신화되어 지지 않거나 중복이 걸러지지 않는 광물 원석의 형태에 가까운 날것의 그것(?)인 경우가 많았습니다. \r\n\r\n각설하고,\r\n\r\n<br/>\r\n\r\n## Window Function\r\n\r\n`Window Function(윈도우 함수)`는 테이블에서 로우 집합을 대상으로 계산하는 함수이다. 집계함수는 행(row)집합에 대해서 결과를 출력하지만, 윈도우 함수는 행 단위로 처리결과를 출력한다. \r\n\r\n윈도우 함수 뒤에는 항상 `OVER`절을 사용하는데, 이것은 윈도우 함수로 처리할 것인지 구분하는 문법상 규칙이다. \r\n<br/><br/>\r\n\r\n![](https://t1.daumcdn.net/cfile/tistory/997C753D5B869EEE1B)\r\n출처 이미지 포함\r\n<br/><br/>\r\n\r\n## SQL Example\r\n\r\n<br/>\r\n우선 아래와 같이 `TEST_TABLE`이 있다고 할 때,  <br/><br/>\r\n\r\n```sql \r\nCREATE TABLE TEST_TABLE(\r\n\tSEQ SERIAL PRIMARY KEY,\r\n\tNAME VARCHAR(20),\r\n\tADDR VARCHAR(100)\t\r\n);\r\n```\r\n\r\n<br/>\r\n\r\n중복데이터를 삭제하는 `SQL`은 이렇게 쓸 수 있다.\r\n\r\n```sql\r\nDELETE FROM TEST_TABLE\r\nWHERE SEQ IN (\r\n\tSELECT T.SEQ \r\n\tFROM (\r\n\t\tSELECT SEQ\r\n\t\t, ROW_NUMBER() OVER(PARTITION BY NAME, PRICE ORDER BY SEQ) AS ROW_NUM\r\n\t\tFROM TEST_TABLE\r\n\t) T\r\n\tWHERE T.ROW_NUM > 1\r\n);\r\n```\r\n<br/>\r\n\r\n---\r\n\r\n<br/>\r\n\r\n### 참고\r\n\r\n- PostgreSQL Window Function : [https://www.postgresql.org/docs/9.1/tutorial-window.html](https://www.postgresql.org/docs/9.1/tutorial-window.html)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           \r\n\r\n\r\n\r\n- 중복관측치 제거 : [https://rfriend.tistory.com/](https://rfriend.tistory.com/)\r\n- [PostgreSQL 9.3.5. 문서](https://postgresql.kr/docs/9.3/tutorial-window.html)","excerpt":"운영 유지보수 프로젝트에서 업무를 하다 보니, 생각보다 더 많은 부정확한 중복데이터가 있어 자주 곤란한 상황들이 있었습니다. 그때마다 시간을 들여서 개선하는 것보단 당장의 과업을 해결하기 위해 엑셀 1차 가공 및 2차 수작업 정비와 같은 비효율적인 …","fields":{"slug":"/TIL/"},"frontmatter":{"date":"Aug 07, 2021","title":"(Postgresql) 중복데이터 제거하고 하나만 남기기","tags":["TIL","PostgresQL"],"update":"Jan 01, 0001"}}},{"node":{"rawMarkdownBody":"\r\n![](https://media.vlpt.us/images/3rd-big/post/6304e3ad-127b-4392-8a0b-da0c942bb556/sonarqube-logo@2x.png)\r\n<br/><br/>\r\n\r\n좋은 시스템에서 좋은 코드를 보고 배우며 성장하는 유토피아를 꿈꾸는 주니어였지만 , 현실은 하드코딩 난무하는 `레거시코드`와 `통계업무지옥`에 치이고 약간은 타성에 젖어가며... 저는 어느덧 2년 n개월차 주니어로 살고 있었습니다.😥\r\n<br/>\r\n\r\n그때 만난 [이글](https://sogoagain.github.io/2020/03/08/%EB%A0%88%EA%B1%B0%EC%8B%9C-%EC%BD%94%EB%93%9C%EB%A5%BC-%EC%A0%90%EC%A7%84%EC%A0%81%EC%9C%BC%EB%A1%9C-%EA%B0%9C%EC%84%A0%ED%95%9C-%EA%B2%BD%ED%97%98/)이 저에게 뭔가 `trigger`가 되었습니다! 글 내용 중 가장 와닿았던 부분은 \r\n\r\n<br/>\r\n\r\n> * 레거시 코드는 다른 사람이 \"처음\" 작성해야 하는 처지였음을 잊지 말아야 한다. \r\n> * 레거시 코드를 만난다고 실망에 그칠 것이 아닌 적극적으로 개선시키는 태도가 필요하다.\r\n\r\n<br/>\r\n\r\n라는 부분 이었습니다. 레거시 코드를 두고 투덜대기만 할 것이 아니라 저 스스로가 `적극적인 태도`를 가지고 개선하려는 마음 가짐을 갖게 하는 좋은 초석이 되었습니다. 저 조차도 6개월 전에 제가 쓴 코드를 보고도 '아니 이건 왜 이렇게 짰담?🤔' 하는 경우가 있었기 때문에(~~나만 그런거 아니라고 해줘...~~) 더욱 더 공감되는 부분이였습니다.\r\n<br/>\r\n\r\n그래서 지금 운영 유지보수로 업무하고 있는 프로젝트의 코드 개선을 위해 `SonarQube`를 도입한 경험을 공유합니다. 🕺💃\r\n<br/><br/>\r\n\r\n---\r\n<br/>\r\n\r\n## SonarQube Web 설정하기 \r\n\r\n설치에 앞서 `SonarQube`를 도입한 환경은 프로젝트 개발서버(테스트서버)로 리눅스 RedHat 환경을 기준으로 작성하였습니다. 설치된 프로젝트는 *maven, gradle을 사용하지 않는 Spring 프로젝트 환경*임을 명시합니다.\r\n\r\n\r\n우선, 소나큐브를 통해 코드 품질 분석을 하려면 `SonarQube`와 `SonarScanner` 그리고 `PostgresQL`이 필요합니다. 차례대로 설치하여 구동해봅시다!\r\n<br/><br/>\r\n\r\n### 1. PostgreSQL 설치\r\n\r\n```shell\r\n#postgresql 설치 \r\nsudo apt-get install postgresql\r\n\r\n#계정을 postgres로 변경 \r\nsu -u postgres\r\n\r\n#postgresql 커맨드 실행\r\npsql \r\n```\r\n<br/>\r\n\r\n```shell\r\n#소나큐브 유저생성\r\nCREATE USER sonar WITH ENCRYPTED PASSWORD 'sonar2020!!';\r\n\r\n#DB생성\r\nCREATE DATABASE sonar OWNER sonar;\r\n\r\n#DB권한설정\r\nALTER ROLE sonar WITH CREATEDB;\r\nGRANT ALL PRIVILGES ON DATABASE sonar TO sonar;\r\n\r\n# 커맨드 종료(exit) 후 재시작\r\n$ systemctl restart postgresql\r\n```\r\n<br/>\r\n\r\n### 2. SonarQube 설치 \r\n<br/>\r\n\r\n홈페이지 [다운로드](https://www.sonarqube.org/downloads/) 페이지에서 소나큐브를 다운로드 받아 설치하여 봅시다. 이때 소나큐브를 사용하려면 서버에 `jdk`도 설치되어있어야 하니 `Open JDK 8`버전으로 미리 다운로드를 받아 두도록 합니다.\r\n\r\n<br/>\r\n\r\n```shell\r\n#설치경로 (개인에게 맞는 경로로 사용하길 추천)\r\nmkdir /opt/sonarqube\r\n\r\n#SonarQube 다운로드\r\nwget https://binaries.sonarsource.com/Distribution/sonarqube/sonarqube-7.2.1.zip\r\n\r\n#압축 해제 \r\nunzip sonarqube-7.2.1.zip\r\n\r\n#파일 이동\r\nmv sonarqube-7.2.1 /opt/sonarqube\r\n```\r\n<br/>\r\n\r\n소나큐브가 설치된 경로에서 에디터를 사용하여 `sonar.properties`를 속성을 변경해봅시다!\r\n\r\n```shell\r\n#디렉토리 이동 \r\ncd /opt/sonarqube/conf\r\n\r\n#설정파일 변경 \r\nvi sonar.properties\r\n```\r\n<br/>\r\n\r\n`sonar.properties`에서 아래의 내용에 있는 `key`를 찾아 [1. PostgreSQL-설치](#1.-PostgreSQL-설치) 에서 설정한 대로 속성을 수정을 하시면 됩니다!\r\n```\r\n#### jdbc 설정\r\nsonar.jdbc.username=sonar\r\nsonar.jdbc.password=sonar\r\nsonar.jdbc.url=jdbc:postgresql://localhost/sonar\r\n\r\n#### WEB서버 설정\r\nsonar.web.javaOpts=-Xmx3096m -Xms2048m -XX:+HeapDumpOnOutOfMemoryError\r\nsonar.web.javaAdditionalOpts=-server\r\n\r\nsonar.web.host=0.0.0.0\r\nsonar.web.port=9000\r\n#9001번 port는 소나큐브내부의 elastic search가 사용하므로 지양\r\n```\r\n<br/>\r\n\r\n### 3. SonarQube 실행\r\n<br/>\r\n\r\n이제 기초 준비가 되었으면 소나큐브를 잘 설치되었는지 구동 커맨드를 실행해 봅니다.\r\n\r\n```shell\r\n#소나큐브 설치 경로 이동 \r\ncd /opt/sonarqube/bin\r\n\r\n#실행커맨드 \r\n#(옵션 목록 : console | start | stop | restart | status | dump)\r\n./sonar.sh start\r\n```\r\n<br/>\r\n\r\n정상적으로 실행되었다면, [2. SonarQube 설치](#2.-SonarQube-설치)에 설정한 대로 웹콘솔은 `9000`번 포트에서 확인 할 수 있습니다. 타란~🙆‍♀️ 소나큐브의 초기 계정정보는 id와 pw 모두 `admin`을 사용중이니 **꼭!**  변경하여 사용하도록 합시다! \r\n\r\n(우측상단 프로필 클릭 > My Account > Security 탭에서 수정 가능)\r\n\r\n![sonar-console04.png](sonar-console04.PNG)\r\n\r\n<br/>\r\n\r\n여기까지 소나큐브 설치 방법은 완료되었고, 프로젝트 등록 및 코드스캔에 대한 내용은 2편에서 이어서 금방 돌아오겠습니다💁‍♀️\r\n\r\n<br/>\r\n\r\n---\r\n<br/>\r\n\r\n### 참고\r\n\r\n- sonarsource Community [https://community.sonarsource.com/](https://community.sonarsource.com/)\r\n- sonarQube 설치하기 [https://info-lab.tistory.com/183](https://info-lab.tistory.com/183)\r\n- PostgresQL 가이드북 [http://www.devkuma.com/books/pages/1459](http://www.devkuma.com/books/pages/1459)","excerpt":"좋은 시스템에서 좋은 코드를 보고 배우며 성장하는 유토피아를 꿈꾸는 주니어였지만 , 현실은 하드코딩 난무하는 와 에 치이고 약간은 타성에 젖어가며... 저는 어느덧 2년 n개월차 주니어로 살고 있었습니다.😥\n 그때 만난 이글이 저에게 뭔가 가 되었습…","fields":{"slug":"/sonarqube_1/"},"frontmatter":{"date":"Jul 27, 2021","title":"코드 품질관리 SonarQube 도입기(1) - 설치하기","tags":["TIL","SonarQube","PostgresQL"],"update":"Jan 01, 0001"}}},{"node":{"rawMarkdownBody":" \r\n<br/>\r\n\r\n![null](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fcp8PH4%2Fbtq7grjYoot%2FYuFyNquxoBVf7HWAiFoDok%2Fimg.jpg)\r\n<br/><br/>\r\n\r\n클린코드는 인턴시절 나의 멘토였던 책임님이 추천해주신 책이다.\r\n\r\n이제 막 부화 수준의 인턴 뽀시래기였던 나는 이 책을 끝까지 읽어 이해할만한 수준이 아니여서 중간에 읽다 그만 두었고, 시간이 조금 흘러 이제야 다시 읽는다T-T\r\n<br/><br/>\r\n\r\n---\r\n<br/><br/>\r\n\r\n책의 저자인 로버트 C. 마틴은 난관에 부딪힐때 옳은 문 뒤에 있으려면 `장인정신`이 필요하다고 한다.\r\n\r\n필자는 장인 정식은 익히는 과정은 아래 두 단계로 나뉜다고 한다.\r\n\r\n장인정신은 첫째, 장인에게 필요한 원칙, 패턴, 기법, 경험이라는 지식을 습득해야 한다. \r\n<br/>둘째, 열심히 일하고 연습해 지식은 몸과 마음으로 체득해야 한다.\r\n<br/><br/>\r\n\r\n![mbti나태지옥포지션](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FMlSSY%2Fbtq7biuFnCU%2FhVUVhZHX5p6LYrScxUgumK%2Fimg.jpg)\r\n\r\n두번째 조건이라면 나태지옥 교관 포지션인 ENTJ인 나로선 어려운 일이 아니다\r\n<br/><br/>\r\n\r\n하지만, 현업에 있을 수록 첫번째 조건은 뼈저리게 와닿게도 느끼면서도 참 지키기 여간 어려운 일이 아닐 수 없다ㅜㅜ\r\n\r\n.<br/>\r\n.\r\n<br/>\r\n\r\n필자는 깨끗한, 좋은 코드에 대해서 여러 개발자들의 의견을 모아 이렇게 정리했다.\r\n<br/><br/>\r\n\r\n**깨끗한 코드는 `한 가지를 제대로` 한다**\r\n<br/>\r\n\r\n이는 **스프링 설계 5원칙**의 `SRP(Single Responsibility Principle)`과도 맞닫는다. 깨끗한 코드는  '보기에 좋은'(우아한) 코드이다.\r\n\r\n`깨끗한 코드`는 또한 나쁜 코드를 방지할 수 있다.(나쁜코드는 또 다른 나쁜코드를 유혹한다) \r\n\r\n나쁜 코드는 너무 많은 일을 하려다 의도가 뒤섞이고 목적이 흐려진다. 깨끗한 코드는 한 가자에 '집중'한다. \r\n<br/><br/>\r\n\r\n**`가독성`을 강조한다**\r\n\r\n깨끗한 코드는 잘 쓴 문장처럼 좋은 소설과 마찬가지로 해결할 문장의 긴장을 명확히 드러내야 한다.\r\n\r\n**깨끗한 코드는 다른 사람이 고치기 쉬워야 한다**\r\n\r\n깨끗한 코드는 `테스트 케이스`와 연관짓는다. 아무리 코드가 우아해도, 아무리 가독성이 높아도, 테스트 케이스가 없으면 깨끗하지 않다. \r\n<br/><br/>\r\n\r\n**깨끗한 코드는 `주의깊게 작성한 코드`이다**\r\n\r\n언제나 누군가 주의 깊게 짠 코드는 고치려고 살펴봐도 딱히 손 댈 곳이 없다. 작성자가 이미 모든 사항을 고려했으므로, 고칠 궁리를 하다보면 결국 제자리로 돌아온다.\r\n<br/><br/>\r\n\r\n**`단순한` 코드 규칙**\r\n\r\n-   모든 테스트를 통과한다\r\n-   중복이 없다\r\n-   시스템 내 모든 설계 아이디어를 표현한다\r\n-   클래스, 메서드, 함수 등을 최대한 줄인다\r\n<br/><br/>\r\n\r\n**주변 코드가 읽기 쉬우면 새 코드를 짜기 쉽다**\r\n\r\n우리는 새 코드를 짜면서 끊임없이 기존 코드를 해석하고 분석한다. 주변코드를 읽기 어려우면 새 코드도 읽기 어렵다. \r\n\r\n즉, 읽기 쉽게 만들어야 한다.\r\n<br/><br/>\r\n\r\n**`보이스카우트 규칙`**\r\n\r\n보이스카우트가 따르는 간단한 규칙은 우리 프로그래머들에게도 유용하다.\r\n\r\n\"캠프장은 처음 왔을 때보다 더 깨끗하게 해놓고 떠나라\"\r\n\r\n한꺼번에 정리하기보단 변수 이름하나 개선하고, 조금 긴 함수 분할하고, 약간의 중복을 제거하는 방법으로 나아가자\r\n<br/><br/>\r\n\r\n**프리퀄과 원칙**\r\n<br/>\r\n\r\n설계 원칙\r\n-   SRP (Single Responsibility Principle)\r\n-   OCP (Open Closed Principle)\r\n-   DIP (Dependency Inversion Principle)\r\n\r\n<br/><br/>\r\n+) 이 글은 [여기(이전 블로그)](https://fascinate-zsoo.tistory.com/24)에서 옮겨왔습니다.🙋‍♀️\r\n<br/><br/>","excerpt":"null\n 클린코드는 인턴시절 나의 멘토였던 책임님이 추천해주신 책이다. 이제 막 부화 수준의 인턴 뽀시래기였던 나는 이 책을 끝까지 읽어 이해할만한 수준이 아니여서 중간에 읽다 그만 두었고, 시간이 조금 흘러 이제야 다시 읽는다T-T\n  책의 저자…","fields":{"slug":"/TIL-cleancode/"},"frontmatter":{"date":"Jul 24, 2021","title":"(TIL#3) Clean Code -(1)","tags":["TIL"],"update":"Jan 01, 0001"}}},{"node":{"rawMarkdownBody":"\r\n개인프로젝트 또는 현업에서 종종 [공공데이터포털](https://www.data.go.kr/)의 데이터를 활용할 일이 꽤나 있습니다.\r\n\r\n특히 최근에는 지도API를 활용한 업무가 많아졌습니다.\r\n\r\n그런데..! 데이터 제공처마다 <span style=\"color:cornflowerblue;\">*각각 다른 좌표 투영계를 사용*</span>하여 좌표를 제공하여 (~~표준통일같은건 없는거니..~~)\r\n\r\n현재 사용중인 카카오맵SDK에서 기본으로하는 위경도 좌표계(위도 38.xxxx, 경도 126.xxx의 표시방법)로 좌표계 변환이 필요했습니다.\r\n\r\n사실 지도 투영과 좌표계에 대한 내용은 GIS에 대한 좀 더 깊은 공부가 필요하지만, 저는 라이브러리를 사용하여 빠르고 간단하게 변환하는 방법을 선택해보겠습니다.😏\r\n\r\n<br/>\r\n\r\n---\r\n\r\n<br/>\r\n\r\n사용한 라이브러리는 `proj.js`라는 JavaScript 라이브러리로 `지리 좌표 변환 소프트웨어`입니다.\r\n\r\n현재는 8버전까지 나와있으나, 릴리즈 4버전으로도 충분하여 `proj4`를 사용하도록 하겠습니다.\r\n<br/><br/>\r\n변환하실 <b>좌표계의 EPSG 코드는 [여기](http://www.gisdeveloper.co.kr/?p=8942)를 참고</b>하시면 됩니다!\r\n\r\n<br/><br/>\r\n\r\n## **Node.js 샘플코드**\r\n<br/>\r\n\r\n`node.js` 환경에서 사용할 경우 npm으로 `proj4` 라이브러리를 설치해줍니다.\r\n```\r\nnpm install --save proj4\r\n```\r\n<br/>\r\n\r\n`proj.js`의 기본구문은 아래와 같습니다.\r\n```\r\nlet coord = proj4(proj4(fromProjection, toProjection, coordinates);\r\n\r\n//fromProjection : 변환 대상 좌표계\r\n//toProjection : 변환 목표 좌표계\r\n//coordinates : 객체 또는 배열 형태 (예시 {x:'x', y:'y'} 또는 [x,y]) \r\n```\r\n<br/>\r\n\r\n기본구문을 바탕으로 좌표변환하는 코드는 아래처럼 활용할 수 있습니다.\r\n```\r\nvar proj4 = require('proj4');\r\n\r\n//UTM-K 좌표계\r\nvar eps2097 = \"+proj=tmerc +lat_0=38 +lon_0=127 +k=1 +x_0=200000 +y_0=500000 +ellps=bessel +units=m +no_defs\";\r\n//GRS80(중부원점) 좌표계\r\nvar grs80 = \"+proj=tmerc +lat_0=38 +lon_0=127.5 +k=0.9996 +x_0=1000000 +y_0=2000000 +ellps=GRS80 +units=m +no_defs\";\r\n//wgs84(위경도)좌표계\r\nvar wgs84 = \"+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees\";\r\n\r\nvar grs80P = proj4(grs80, wgs84, [893204, 1652210]);\r\nconsole.log(grs80P);\r\n\r\nvar eps2097p = proj4(eps2097, wgs84, [188387.5628, 183119.8984]);\r\nconsole.log(eps2097p);\r\n```\r\n<br/><br/>\r\n\r\n## **Java 샘플코드**\r\n<br/>\r\n\r\n아래의 External JAR파일을 lib폴더에 import하시고 사용하시면 `proj4`를 `Java`환경에서 이용하실 모든 준비가 끝났습니다.😄\r\n<br/><br/>\r\n\r\n`jar파일`은 [여기(이전 블로그)](https://fascinate-zsoo.tistory.com/24)에 가시면 다운받으실 수 있습니다!😎\r\n<br/><br/>\r\n\r\n\r\n`proj` 기본 구문은 동일하며 `Java`에서는 `ProjCoordinate` 클래스를 이용하여 좌표를 변환합니다!\r\n\r\n```\r\nimport org.locationtech.proj4j.BasicCoordinateTransform;\r\nimport org.locationtech.proj4j.CRSFactory;\r\nimport org.locationtech.proj4j.CoordinateReferenceSystem;\r\nimport org.locationtech.proj4j.ProjCoordinate;\r\n\r\npublic class TransCoord {\r\n\r\n  public ProjCoordinate transform(String strLon, String strLat) {\r\n\r\n    //parse to Double\r\n    Double dblLon = Double.parseDouble(strLon);\r\n    Double dblLat = Double.parseDouble(strLat);\r\n\t\t\t\r\n    CRSFactory factory = new CRSFactory();\r\n    CoordinateReferenceSystem grs80 = factory.createFromName(\"EPSG:5179\"); \r\n    CoordinateReferenceSystem wgs84 = factory.createFromName(\"EPSG:4326\");\r\n    BasicCoordinateTransform transformer = new BasicCoordinateTransform(grs80, wgs84);\r\n\t\r\n    ProjCoordinate beforeCoord = new ProjCoordinate(dblLon, dblLat);\r\n    ProjCoordinate afterCoord = new ProjCoordinate();\r\n    \r\n    //변환된 좌표 \r\n    System.out.println(afterCoord.x + \",\" + afterCoord.y);\r\n    \r\n    return transformer.transform(beforeCoord, afterCoord);\r\n  }\r\n  \r\n}\r\n```\r\n<br/><br/>\r\n\r\n---\r\n\r\n<br/>\r\n좌표변환 코드를 보면 세상짧고 별거없어 보이는 코드이지만....\r\n\r\n저 라이브러리와 코드를 찾기위해 몇번이고 구글을 떠돌던 며칠전의 저와 같은 모습을 하고 계실 또 다른 분들이 도움이 되셨기를...!🙋‍♀️\r\n\r\n<br/><br/>\r\n+) 이 글은 [여기(이전 블로그)](https://fascinate-zsoo.tistory.com/24)에서 옮겨왔습니다.","excerpt":"개인프로젝트 또는 현업에서 종종 공공데이터포털의 데이터를 활용할 일이 꽤나 있습니다. 특히 최근에는 지도API를 활용한 업무가 많아졌습니다. 그런데..! 데이터 제공처마다 각각 다른 좌표 투영계를 사용하여 좌표를 제공하여 (표준통일같은건 없는거니..…","fields":{"slug":"/proj4활용기/"},"frontmatter":{"date":"Jul 23, 2021","title":"proj4.js로 좌표계 변환하기 (중분원점 좌표계 > WGS84 좌표계)","tags":["Javascript"],"update":"Jan 01, 0001"}}},{"node":{"rawMarkdownBody":"\r\n![consolelog](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FRL3DB%2Fbtq8UeXRCxu%2FRwi4Bc26JFQtm7wCDnPPy0%2Fimg.gif)\r\n<br/><br/>\r\n드림코딩 엘리님의 유튜브를 보고 기억하기위해 적어두는 TIL\r\n<br/><br/>\r\n\r\n# **Console 제대로 알고쓰기**\r\n\r\n<br/>\r\n\r\n콘솔로그의 기본 로그레벨에 따른 `method`<br/><br/>\r\n\r\n```\r\nconst cat = {type : '😺' name : 'Ori', owner : {name: 'didue'}}\r\nconsole.log('logging' , cat);\r\n\r\n//log level\r\nconsole.log();   //개발 출력 => 배포시 삭제\r\nconsole.info();  //정보 출력 => 배포시 삭제 \r\nconsole.warn();  //경보 \r\nconsole.error(); //에러! 시스템 에러\r\n```\r\n<br/><br/>\r\n\r\n`특정 조건이 일치`할 때만 로그를 출력하고 싶을 경우\r\n```\r\n//assert \r\nconsole.assert(2 === 3, 'not samae!')\r\nconsole.assert(2 === 2, 'same!')\r\n```\r\n<br/><br/>\r\n\r\n`Object`를 더 스마트하게 가독성있게 출력하기\r\n```\r\n//print object\r\nconsole.table(cat);\r\nconsole.dir(dog, {color: false, depth : 0});\r\n```\r\n<br/><br/>\r\n\r\n수행시간 측정 하기\r\n```\r\nconsole.time('for loop');\r\n//working\r\nconsole.timeEnd('for loop');\r\n\r\n//output : for loop 0.053ms\r\n```\r\n<br/><br/>\r\n\r\n스마트하게 `카운팅` 하기\r\n```\r\n//old\r\nlet count = 0;\r\nfunction a(){\r\n    count++;\r\n}\r\na();\r\na();\r\na();\r\nconsole.log(count);\r\ncount = 0;\r\n\r\n//new\r\nfunction a(){\r\n    console.count('a function');\r\n}\r\na();\r\na();\r\na();\r\nconsole.countReset('a function');\r\n```\r\n<br/><br/>\r\n\r\n함수 어디에서 호출했는지 `tracing`하기\r\n```\r\nfunction f1(){\r\n    f2();\r\n}\r\nfunction f2(){\r\n    f3();\r\n}\r\nfunction f3(){\r\n    console.trace();\r\n}\r\nf1();\r\n```\r\n<br/><br/>\r\n---\r\n\r\n### 출처\r\n\r\n\\- MDN : Console [https://developer.mozilla.org/ko/docs/Web/API/Console](https://developer.mozilla.org/ko/docs/Web/API/Console)\r\n\r\n\\- Node.js : Console [https://nodejs.org/dist/latest-v14.x/docs/api/console.html](https://nodejs.org/dist/latest-v14.x/docs/api/console.html)\r\n\r\n\\- 드림코딩 유튜브 [https://youtu.be/KxsVV5jbJe4](https://youtu.be/KxsVV5jbJe4)","excerpt":"consolelog\n\n드림코딩 엘리님의 유튜브를 보고 기억하기위해 적어두는 TIL\n Console 제대로 알고쓰기 콘솔로그의 기본 로그레벨에 따른   할 때만 로그를 출력하고 싶을 경우  를 더 스마트하게 가독성있게 출력하기  수행시간 측정 하기  …","fields":{"slug":"/TIL-console/"},"frontmatter":{"date":"Jul 23, 2021","title":"(TIL#2) Console 제대로 알고 쓰기 (with 드림코딩)","tags":["TIL","JavaScript"],"update":"Jan 01, 0001"}}},{"node":{"rawMarkdownBody":"\r\n## null 병합 연산자 '??'\r\n\r\n\r\n<br/><br/>\r\n![null](https://img1.daumcdn.net/thumb/R800x0/?scode=mtistory2&fname=https%3A%2F%2Ft1.daumcdn.net%2Fcfile%2Ftistory%2F995C434C5C07CDA015)\r\n<br/><br/>\r\nnull 병합 연산자 `??`를 사용하면 짧은 문법으로 여러 연산자 중 그 값이 '확정'되어 있는 변수를 찾을 수 있습니다. \r\n<br/><br/>\r\n`x` 변수의 값은 변수 `a`가 `null`도 아니고  `undefined`가 아니면 `a`가, \r\n그렇지 않을 경우는 `b`가 되도록 하고자 할 때<br/>\r\n우리는 구식 문법으로 아래와 코드를 작성했습니다. \r\n<br/><br/>\r\n\r\n```\r\n//old\r\n//if~else문\r\nlet x;\r\nif(a !== null && a!== undefined){\r\n    x = a;\r\n}else {\r\n    x = b;\r\n}\r\n\r\nor \r\n\r\n//삼항연산자\r\nlet x = (a !== null && a!== undefined)? a : b;\r\n```\r\n\r\n<br/>\r\n`if~else` 문 또는 비교연산자와 논리연산자를 사용하면 코드길이가 길어져 가독성이 떨어지게 됩니다.<br/>\r\n이 때, null 병합연산자 `??` 사용해서 코드를 작성하면 이렇게 표현할 수 있습니다. <br/>\r\n<br/>\r\n\r\n```\r\n//new\r\nlet x = a ?? b;\r\n```\r\n<br/><br/>\r\n\r\n### 연산자 우선순위 \r\n\r\n`??` 연산자는 `5번째 우선순위`로 꽤 낮습니다.\r\n그렇기 때문에 연산자가 복잡한 표현식안에서는 `괄호`를 사용하여 표현하는 방법이 좋습니다. <br/>\r\n<br/><br/>\r\n\r\n`??`연산자는 javascript 스펙에 추가된 지 얼마 안 된 문법으로, 구식 브라우저(~~인터넷 익스플로러 라거나....IE라거나...~~)에서는 바벨과 같은 폴리필이 필요합니다.<br/><br/>\r\n\r\n또한 `??` 연산자에는 자바스크립트 언어에서 규정한 `제약사항`이 있습니다.<br/>\r\n<b>안전성 관련 이슈 때문에 `??`연산자는 `&&(AND)`나 `||(OR)`연산자와 함께 사용할수 없습니다.</b><br/><br/>\r\n\r\n\r\n```\r\n//Syntax Error : Uxexpected token '??'\r\nlet x = 1 && 2 ?? 3;\r\n```\r\n<br/>제약을 피하려면 아래 예시처럼 `괄호`를 사용할 수 있습니다. <br/><br/>\r\n\r\n```\r\nlet x = (1 && 2) ?? 3;\r\nconsole.log(x);         //2\r\n```\r\n","excerpt":"null 병합 연산자 '??' \nnull\n\nnull 병합 연산자 를 사용하면 짧은 문법으로 여러 연산자 중 그 값이 '확정'되어 있는 변수를 찾을 수 있습니다. \n\n 변수의 값은 변수 가 도 아니고  가 아니면 가, \n그렇지 않을 경우는 가 되도록 …","fields":{"slug":"/TIL/"},"frontmatter":{"date":"Jul 23, 2021","title":"(TIL#1) 모던Javascript - null 병합연산자 ??","tags":["TIL","JavaScript"],"update":"Jan 01, 0001"}}},{"node":{"rawMarkdownBody":"\r\nJava8에서 선보인 Stream API를 근래 업무에서 너무 편하게 잘쓰고있어서 정리해보려 한다.\r\n\r\n필요의 순간에 아주 유용하게 쓸 수 있는 API니 잘 알아두자!\r\n\r\n\r\n## Java Stream\r\n\r\n기존에 자바 Collection이나 Array의 요소를 가공할 때는 `loop(for, foreach)`를 사용해서 요소를 골라내는 작업을 했다면, `Stream`은 **람다형(함수형 인터페이스)** 으로 간단하게 요소를 처리할 수 있도록 한다\r\n\r\n\r\n\r\n**장점**\r\n\r\n- 코드의 양을 줄여 간결하게 표현\r\n- 손쉬운 병렬처리(multi-threading)\r\n\r\n<br/>\r\n\r\n---\r\n<br/>\r\n\r\n## Stream 사용법\r\n<br/>\r\n\r\n<p style=\"font-size:16px; font-weight:bold; color:#000;\"><span style=\"background-color:#FFFF99;\">객체집합</span>.<span style=\"background-color:#00FFCC;\">스트림생성</span>.<span style=\"background-color:#CCCCFF;\">중개연산</span>.<span style=\"background-color:#66CCFF;\">최종연산</span></p>\r\n\r\n\r\n이러한 형태의 기본문법으로 사용한다.\r\n<br/><br/>\r\n\r\n\r\n### 스트림 생성\r\n\r\n`Collection`과 `Array`와 같은 **객체집합**으로 스트림을 생성한다.\r\n\r\n이외에도 다양한 방법으로 스트림을 생성할 수 있다.\r\n( ※ 참고 사이트가 도움이 될 수 있습니다😊)\r\n<br/><br/>\r\n\r\n### 중개연산\r\n\r\n`중개연산`은 원소를 가공하는 연산으로서 자주 사용하게되는 메소드를 정리해보았다.\r\n<br/>\r\n\r\n<table style=\"border-collapse: collapse; width: 100%; height: 99px;\" border=\"1\" data-ke-style=\"style13\" data-ke-align=\"alignLeft\"><tbody><tr style=\"height: 20px;\"><td style=\"width: 16.8217%; text-align: center; height: 20px;\">Method</td><td style=\"width: 31.124%; text-align: center; height: 20px;\">Description</td><td style=\"width: 52.0542%; text-align: center; height: 20px;\">etc.</td></tr><tr style=\"height: 19px;\"><td style=\"width: 16.8217%; text-align: center; height: 19px;\">map</td><td style=\"width: 31.124%; height: 19px; text-align: left;\">특정조건의 요소의 값 반환(연산)</td><td style=\"width: 52.0542%; height: 19px; text-align: left;\">요소들의 대,소문자 변형</td></tr><tr style=\"height: 20px;\"><td style=\"width: 16.8217%; text-align: center; height: 20px;\">filter</td><td style=\"width: 31.124%; height: 20px; text-align: left;\">조건에 맞는 요소만 필터링</td><td style=\"width: 52.0542%; height: 20px; text-align: left;\">길이제한, 특정문자 포함단어 취득 등의 작업</td></tr><tr style=\"height: 20px;\"><td style=\"width: 16.8217%; text-align: center; height: 20px;\">sorted</td><td style=\"width: 31.124%; height: 20px; text-align: left;\">요소 정렬</td><td style=\"width: 52.0542%; height: 20px; text-align: left;\">요소들을 정렬&nbsp;</td></tr><tr style=\"height: 20px;\"><td style=\"width: 16.8217%; text-align: center; height: 20px;\">distinct</td><td style=\"width: 31.124%; height: 20px; text-align: left;\">요소 중복 제거</td><td style=\"width: 52.0542%; height: 20px; text-align: left;\">중복되지 않은 요소들로 정제하는 작업</td></tr></tbody></table>\r\n<br/><br/>\r\n\r\n\r\n**_filter()_**\r\n\r\n요소에서 특정 원소를 `filtering`하는 메소드로써, `List`나 `Array`에서 원치 않게 `null`(혹은 공백 \"\")이 들어올 경우 등의 손쉽게 처리할 수 있습니다.\r\n```\r\n//원래의 배열\r\nString[] fruits = {\"apple\", \"grape\", \"orange\" , null, \"banana\", \"\"};\r\n//null요소를 제거된 새로운 배열\r\nString[] existed = {};\r\n\r\n//stream().filter()\r\nexisted = Arrays.stream(fruits).filter(item -> isNotNull(item))\r\n                .toArray(String[]::new);\r\n                \r\n//결과 \r\n// [\"apple\", \"grape\", \"orange\", \"banana\"]\r\n```\r\n<br/><br/>\r\n\r\n**_distinct()_**\r\n\r\n`distinct` 메소드로 원소의 중복을 쉽게 처할 수 있습니다.\r\n```\r\n//원래의 배열\r\nString[] fruits = {\"apple\", \"grape\", \"orange\" , \"grape\", \"banana\", \"banana\"};\r\n//null요소를 제거된 새로운 배열\r\nList<String> distincted = new ArrayList<>();\r\n\r\n//stream().distinct()\r\ndistincted = Arrays.asList(elements).stream().distinct().collect(Collectors.toList());\r\n\r\n//출력\r\ndistincted.forEach(System.out::println);\r\n\r\n//Result :\r\n//apple\r\n//grape\r\n//orange\r\n//banana\r\n```\r\n<br/>\r\n\r\n**최종연산**\r\n\r\n`최종연산`은 스트림 요소들을 *다시 모으거나, 값을 세는 등* 앞선 `중개연산`을 통해 가공한 *스트림 요소를 마무리하는 단계*이다.\r\n\r\n<br/>\r\n\r\n**_collet()_**\r\n\r\n스트림의 값들을 다시 모아주는 메소드.  `toMap`, `toSet`, `toList`로 다시 `Collection`으로 바꿔준다.\r\n\r\n```\r\n/**\r\n * 중복요소 제거\r\n * @param key\r\n * @param target\r\n * @return\r\n */\r\npublic List<String> distinctElements(List<Map<String, Object>> resultData, String key){ \r\n\t\r\n\tList<String> target = mkListFromMap(resultData, key);\r\n\t\r\n\tif(target != null){\r\n\t\ttarget = target.stream().filter(distinctByKey(value-> value)).collect(Collectors.toList());\r\n\t}\r\n\t\r\n\treturn target;\r\n}\r\n\r\nprivate <T> Predicate<T> distinctByKey(Function<? super T, Object> keyExtractor) {\r\n\t\r\n\tMap<Object,Boolean> seen = new ConcurrentHashMap<>();\r\n\treturn t -> seen.putIfAbsent(keyExtractor.apply(t), Boolean.TRUE) == null;\r\n}\r\n```\r\n<br/>\r\n\r\n위 코드는 최근 업무에서 Stream을 사용하여 작성한 중복요소 제거코드이다. 앞서 작성한 내용들을 응용한 부분이니 이해하여보고 다시 본인만의 스타일대로 응용해보는것도 좋을것같다^\\_^\r\n\r\n<br/><br/>\r\n+) 이 글은 [여기(이전 블로그)](https://fascinate-zsoo.tistory.com/24)에서 옮겨왔습니다.🙋‍♀️\r\n<br/><br/>\r\n<hr/>\r\n<br/><br/>\r\n\r\n\\- 참고사이트 \r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/index.html\r\n\r\nhttps://futurecreator.github.io/2018/08/26/java-8-streams/\r\n\r\nhttps://dpdpwl.tistory.com/81","excerpt":"Java8에서 선보인 Stream API를 근래 업무에서 너무 편하게 잘쓰고있어서 정리해보려 한다. 필요의 순간에 아주 유용하게 쓸 수 있는 API니 잘 알아두자! Java Stream 기존에 자바 Collection이나 Array의 요소를 가공할 …","fields":{"slug":"/java-stream-api/"},"frontmatter":{"date":"Jul 23, 2021","title":"Java8 스트림(Stream)API - map/filter/distinct","tags":["Java"],"update":"Jan 01, 0001"}}},{"node":{"rawMarkdownBody":"\r\n근래 JavaScript를 아주 씐나게 공부하고 있는 와중에, `ECMA2015(ES6)`에서 추가된 **새로운 연산자**가 있어 공부해보았다.😛\r\n<br/><br/>\r\n\r\n## Spread Operator\r\n\r\nSpread 문법은 `...` 연산자를 통해서 사용할 수 있다.\r\n\r\n<br/>\r\n\r\nMDN 설명에 의하면,\r\n\r\n> 전개 구문을 사용하면 배열이나 문자열과 같이 반복 가능한 문자를 0개 이상의 인수 (함수로 호출할 경우) 또는 요소 (배열 리터럴의 경우)로 확장하여, 0개 이상의 키-값의 쌍으로 객체로 확장시킬 수 있습니다.\r\n\r\n<br/>\r\n\r\n글만으론 이해가 쉽지않은데 코드를 보면 이해하는데 조금 더 도움이 된다.\r\n<br/>\r\n\r\n```\r\nvar arr = [1];\r\nvar items = [2, 3];\r\n\r\narr.push(...items);\r\nconsole.log(arr);        //Expected Output : [1, 2, 3]\r\n```\r\n<br/>\r\n\r\n위 코드에서 `arr`출력을 보면 `items`의 요소가 `arr`에 넣어진 것을 볼 수있다.  \r\n\r\n이걸 통해 확인할 수 있는 것은 `...`연산자를 통해서 `items`의 요소가 전개되어져 `arr`에 넣어졌고, 이것은 곧 그간 우리가 자주 사용하던 `arr.concat()`을 대체할 만 하다는 것을 알게되었다!\r\n\r\n<br/><br/>\r\n\r\n![ThatsCool](https://media.giphy.com/media/dQNP6OnyFUePu/giphy.gif)\r\n\r\nSpread연산자를 처음 본 나.....ㅎㅎ\r\n<br/><br/>\r\n\r\n그렇담 이제 Spread문법(이하 전개구문)을 활용한 구문 선언할 수 있는 유형을 알아보자 \r\n\r\n<br/>\r\n\r\n### 함수호출\r\n<br/>\r\n\r\n일반적으로 배열의 요소를 함수의 인자로 사용하려고 할 때,  \r\n`Function.prototype.apply()`를 사용하였는데 '전개구문'을 사용하면 아래와 같이 바뀔수 있다.\r\n<br/><br/>\r\n\r\n```\r\n function myFunction(x,y,z){ }\r\n var args = [0, 1, 2];\r\n\r\n //before\r\n myFunction.apply(null, args);\r\n\r\n//after \r\nmyFunction.apply(...args);\r\n```\r\n<br/>\r\n\r\n### 배열리터럴 과 문자열\r\n<br/>\r\n\r\n전개구문은 기존의 `push()`, `splice()`, `concat()` 등을 조합해서 사용하는 코드를 훨씬 간단하게 만들어줄 수도 있다.\r\n<br/><br/>\r\n\r\n**1) 배열 복사**\r\n\r\n```\r\nvar arr1 = [a, b, c];\r\n\r\n//before\r\nvar arr2 = arr1.splice();    \r\n//after\r\nvar arr = [...arr];\r\n```\r\n<br/>\r\n\r\n**2) 배열 연결**\r\n\r\n```\r\nvar arr1 = [1,2,3];\r\nvar arr2 = [4,5,6];\r\n\r\n//before\r\narr1 = arr1.concat(arr2);    \r\n//after\r\narr1 = [...arr1, ...arr2];    \r\n```\r\n<br/><br/>\r\n\r\n### 객체리터럴\r\n\r\nECMAScript2018에서 추가된 `객체 리터럴`은 객체가 소유한 열거형 프로퍼티를 새로운 객체로 복사할 수 있다.  \r\n얕은 복사(prototype 제외) 또는 객체병합은 `Object.assign()`대신 `...`를 사용한 전개구문으로 이용할 수 있다.\r\n\r\n객체리터럴의 예제 코드는 MDN에 설명이 더 상세하니 하단의 링크를 참고하자!\r\n\r\n### **:: Rest parameter :: **\r\n\r\nRest파라미터도 마찬가지로 전개구문(...연산자) 사용할 수 있다. \r\n\r\n```\r\nfunction print(...param){\r\n  param.forEach((e) => {\r\n    console.log(e);\r\n  }\r\n}\r\n\r\nprint('apple', 'banana', 'grape');         \r\n/*\r\napple\r\nbanana\r\ngrape\r\n*/\r\n```\r\n\r\n---\r\n\r\n### **2\\. 문서**\r\n\r\n[MDN Documents > 전개 구문](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Operators/Spread_syntax)","excerpt":"근래 JavaScript를 아주 씐나게 공부하고 있는 와중에, 에서 추가된 새로운 연산자가 있어 공부해보았다.😛\n Spread Operator Spread 문법은  연산자를 통해서 사용할 수 있다. MDN 설명에 의하면, 전개 구문을 사용하면 배열이…","fields":{"slug":"/javascript-spread-operator/"},"frontmatter":{"date":"Jul 23, 2021","title":"Javascript ES6 Spread 연산자(...)","tags":["JavaScript","ES6"],"update":"Jan 01, 0001"}}},{"node":{"rawMarkdownBody":"\r\n`JavaScript` 또는 `jQuery`에서 `querySelectorAll()`을 사용할 때<br/>\r\n와일드카드를 이용하여 *패턴으로 탐색*하고 싶은 경우엔 아래와 같이 사용해보자!\r\n\r\n<br/><br/>\r\n\r\n**~로 시작하는 요소**  `^`\r\n\r\n```\r\n//JavaScript\r\ndocument.querySelectorAll(\"[id^='abc']\");\r\n\r\n//jQuery\r\n$(\"[id^='abc']\");\r\n```\r\n\r\n**~로 끝나는 요소** `$`\r\n\r\n```\r\n//JavaScript\r\ndocument.querySelectorAll(\"[id$='abc']\");\r\n\r\n//jQuery\r\n$(\"[id$='abc']\");\r\n```\r\n\r\n**~를 포함하는 요소** `*`\r\n\r\n```\r\n//JavaScript\r\ndocument.querySelectorAll(\"[id*='abc']\");\r\n\r\n//jQuery\r\n$(\"[id*='abc']\");\r\n```\r\n\r\n<br/>\r\n\r\n---\r\n\r\n<br/>\r\n\r\n아래 이미지는 `와일드카드`를 사용하여 지난 프로젝트의 레거시 코드를 아주 조금 리팩토링했었던 코드이다. 👻\r\n\r\n<br/>\r\n\r\n\r\n![null](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FkVCvG%2FbtqE81F1Iox%2Fp3kVAWDJNMLRWXzQR5WxKk%2Fimg.png)\r\n\r\n<br/>\r\n\r\n50라인정도가 되는 하드코딩(?)스러운 코드를 단 8줄로 리팩토링했다. 개인적으론 라인이 줄어듦으로써 이전보다 가독성도 좋아졌다고 생각한다.\r\n<br/>\r\n\r\n한가지 아쉬웠던것은 Element의 ID를 좀 더 상세한 패턴있게 작명했더라면 (Cnt라는 단어만으로는 다른데에서도 자주 사용되고 있기때문에 좋지못했다....)\r\n*어쩌면 한줄로도 가능하지않았을까* 하는 약간의 아쉬움..이 좀 남는다🤔\r\n\r\n<br/><br/>\r\n<hr/>\r\n<br/><br/>\r\n+) 이 글은 [여기(이전 블로그)](https://fascinate-zsoo.tistory.com/24)에서 옮겨왔습니다.🙋‍♀️\r\n<br/><br/>\r\n","excerpt":"또는 에서 을 사용할 때\n와일드카드를 이용하여 패턴으로 탐색하고 싶은 경우엔 아래와 같이 사용해보자!  ~로 시작하는 요소   ~로 끝나는 요소  ~를 포함하는 요소  아래 이미지는 를 사용하여 지난 프로젝트의 레거시 코드를 아주 조금 리팩토링했었던…","fields":{"slug":"/javascript-wildcard/"},"frontmatter":{"date":"Jul 23, 2021","title":"Javascript/jQuery Selector에서 와일드카드 사용하기","tags":["JavaScript"],"update":"Jan 01, 0001"}}},{"node":{"rawMarkdownBody":"\r\n![POSTGRESQL](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FdfhdXW%2Fbtq665WfGR8%2FQX4BBDAwhiz52sGi08Ychk%2Fimg.png)\r\n<br/><br/>\r\n\r\nPostgreSQL에는 `DML(INSERT, UPDATE, DELETE)` 실행 후, affected rows 갯수 대신 정보를 반환해주는 구문이 있다.\r\n\r\n그것이 바로 `RETURNING` 구문이다\r\n\r\n사용방법은 **아주아주** 간단하다!!  \r\n\r\n`INSERT, UPDATE, DELETE`문 뒤에 `RETURNING *` 을 쓰면 실행 결과 ROWS를 반환한다.  \r\n\r\n<br/>\r\n\r\n이 흥미로운 문법을 아래의 활용 예제를 보면서 `RETURNING` 을 어떻게 쓸 수 있는지 자세히 살펴보자👩🤟\r\n\r\n<br/>\r\n\r\n---\r\n\r\n## Examples\r\n<br/>\r\n\r\n### 활용1. SELECT KEY\r\n<br/>\r\n\r\n`spring` 환경에서 우리는 `insert(혹은 update)`에서 SQL 실행 후 특정 값을 반환하고 싶을 때, \r\n대게의 경우에 mybatis(혹은 ibatis)의 `<selectKey>`를 이용하여 이렇게 썼을 것이다.\r\n```\r\n//old\r\n<insert>\r\n    INSERT INTO BOARD(BOARD_ID, TITLE, CONTENT)\r\n    VALUES('A01', '게시글 타이틀', '게시글 내용')\r\n    <selectKey keyProperty=\"\" resultType=\"\" order=\"AFTER\" >\r\n        SELECT BOARD_ID\r\n    </selectKey>        \r\n</insert>\r\n```\r\n<br/><br/>\r\n\r\n하지만 `PostgreSQL` 에서는 mybatis없이 이렇게도 쓸 수 있다!\r\n\r\n```\r\n//new\r\n<insert>\r\n    INSERT INTO BOARD(BOARD_ID, TITLE, CONTENT)\r\n    VALUES('A01', '게시글 타이틀', '게시글 내용')\r\n    RETURNING BOARD_ID\r\n</insert>\r\n```\r\n<br/><br/>\r\n\r\n확실히 `insert`안에 `select`가 들어가있는것 보다 가독성도 좋아보이고,  \r\n`반환(RETURNING)`한다는 의미와 해달 컬럼이 더 잘 전달된다.\r\n<br/><br/>\r\n\r\n![https://jjalbot.com/media/2020/03/QPPbAIEl7V/SY9jdwKFd.jpeg](https://jjalbot.com/media/2020/03/QPPbAIEl7V/SY9jdwKFd.jpeg)\r\n\r\n편안~\r\n<br/><br/><br/>\r\n\r\n### 활용2. UPSERT\r\n<br/>\r\n\r\n두번째 활용 예는 `UPSERT`이다. <br/>\r\n많은 사용자들이 알듯이 PostgreSQL에는 오라클의 `MERGE`문이 없다 T-T  \r\n그래서 오라클의 그것과 같은 동작을 위해 우리는 PostgreSQL의 `WITH`를 활용할 수 있다.\r\n\r\n<br/>\r\n\r\n```\r\n//update할 row가 없으면 insert 하는 upsert(merge)문\r\n\r\nWITH UPSERT AS (                            \r\n    UPDATE BOARD\r\n    SET TITLE = '게시글 타이틀 수정'\r\n        , CONTENT = '게시글 내용 수정'\r\n    WHERE BOARD_ID = 'A01'\r\n    RETURNING *\r\n)\r\nINSERT INTO BOARD(\r\n    BOARD_ID\r\n    , TITLE\r\n    , CONTENT\r\n)\r\nSELECT\r\n    BOARD_ID\r\n    , TITLE\r\n    , CONTENT\r\nWHERE NOT EXISTS ( SELECT * FROM UPSERT )\r\n```\r\n<br/><br/>\r\n\r\n\r\nPostgreSQL의 `UPSERT`문은 [여기](https://didue.github.io/postgresql-upsert/)에서 이전에 한번 다룬적이 있으니, 두 SQL을 비교해보면서 본인의 상황에 적절한 것을 골라서 써볼 수 있도록 하자!\r\n<br/><br/>\r\n+) 이 글은 [여기(이전 블로그)](https://fascinate-zsoo.tistory.com/24)에서 옮겨왔습니다.🙋‍♀️\r\n<br/><br/>\r\n\r\n---\r\n\r\n#### **참고**\r\n\r\n-   PostgreSQL With : [https://www.postgresql.org/docs/9.4/queries-with.html](https://www.postgresql.org/docs/9.4/queries-with.html)\r\n-   PostgreSQL Insert Multi-Rows : [https://www.postgresqltutorial.com/postgresql-insert-multiple-rows/](https://www.postgresqltutorial.com/postgresql-insert-multiple-rows/)","excerpt":"POSTGRESQL\n PostgreSQL에는  실행 후, affected rows 갯수 대신 정보를 반환해주는 구문이 있다. 그것이 바로  구문이다 사용방법은 아주아주 간단하다!!   문 뒤에  을 쓰면 실행 결과 ROWS를 반환한다.   이 흥미로…","fields":{"slug":"/postgresql-returning/"},"frontmatter":{"date":"Jul 23, 2021","title":"(Postgresql) Returning 구문 정보 리턴 받기","tags":["PostgresQL"],"update":"Jan 01, 0001"}}},{"node":{"rawMarkdownBody":"\r\nList가 없이 에디터 하나로 insert/update를 해야하는 게시판을 작성하는 업무가 있어서 찾아보다가 `UPSERT`라는 것을 알게 되었다!\r\n\r\n`UPSERT` 는 일종의 `MERGE`문 같은 개념으로(~~postgresql은 merge가 없음......~~)\r\n**행이 없으면(존재하지않으면) INSERT하고 존재하면 UPDATE하는 문법**이다.\r\n\r\n<br/>\r\nPostgresQL의 공식 Document에 내용이 너무 잘 정리되어있어서 그 내용을 정리하며 복습해보려 한다.\r\n<br/>\r\n\r\n---\r\n\r\n<br/>\r\n\r\n## PostgresQL의 UPSERT\r\n<br/>\r\n\r\npostgresQL에서 사용하는 UPSERT문법은 아래와 같다!\r\n\r\n`Insert`문 다음에 존재하는지 확인할 `target`과 타겟 확인 이후 `action` 순으로 작성한다.\r\n기본 구문 형태는 아래와 같이 사용한다.\r\n```\r\nINSERT INTO table_name(column_list) \r\nVALUES(value_list)\r\nON CONFLICT target action;\r\n```\r\n<br/>\r\n\r\n\r\n### Target\r\n\r\n-   (column name) : 컬럼명\r\n-   ON CONSTRAINT 제약이름 : unique 제약의 이름\r\n-   WHERE 절\r\n\r\n### Action\r\n\r\n-   DO NOTIHING : 아무것도 수행하지 않음\r\n-   DO UPDATE SET ~~~ : 테이블 일부 필드의 업데이트\r\n\r\n<br/>\r\n\r\n\r\n※ ON CONFLICT절은 PostgresQL9.5 이상에서만 사용할 수 있다!\r\n<br/><br/><br/>\r\n\r\n---\r\n\r\n<br/>\r\n\r\n\r\n## Example\r\n<br/>\r\n\r\n\r\n이제 예제를 보면서 이해해보자. 아래 `DDL`문에서 정의하는 <b>customers라는 테이블</b>이 있다고 할 때\r\n\r\n```\r\nDROP TABLE IF EXISTS customers;\r\n\r\nCREATE TABLE customers (\r\n    customer_id serial PRIMARY KEY,\r\n    name VARCHAR UNIQUE,\r\n    email VARCHAR NOT NULL,\r\n    active bool NOT NULL DEFAULT TRUE\r\n);\r\n```\r\n<br/>\r\n\r\n`unique` 속성이 있는 name 컬럼의 값이 이미 존재한다면, 아무것도 수행하지 않도록하는 SQL은 아래와 같이 쓸 수 있다.\r\n\r\n```\r\nINSERT INTO customers (NAME, email)\r\nVALUES('Microsoft','hotline@microsoft.com') \r\nON CONFLICT ON CONSTRAINT customers_name_key \r\nDO NOTHING;\r\n```\r\n<br/><br/>\r\n\r\n제약조건말고 컬럼명(name)으로도 동일한 수행을 하도록 작성할 수 있다.\r\n```\r\nINSERT INTO customers (name, email)\r\nVALUES('Microsoft','hotline@microsoft.com') \r\nON CONFLICT (name) \r\nDO NOTHING;\r\n```\r\n<br/><br/>\r\n\r\n마지막으로 이미 존재하는 대상에 대해서는 `UPDATE`하도록\r\n`ACTION`을 주는 SQL은 `DO 절` 뒤에 수행될 UPDATE문을 작성하면 된다!\r\n```\r\nINSERT INTO customers (name, email)\r\nVALUES('Microsoft','hotline@microsoft.com') \r\nON CONFLICT (name) \r\nDO \r\n   UPDATE SET email = EXCLUDED.email || ';' || customers.email;\r\n```\r\n<br/><br/>\r\n\r\n---\r\n\r\n<br/><br/>\r\n\r\n(+) 개인적으로 현업에서 `ON CONFLICT`보다 더 자주 사용하는  \r\n`RETURNING`문을 활용한 UPSERT도 있으니 비교해보고 상황에 맞는것을 사용해보자!\r\n\r\n\r\n[\\[PostgreSQL\\] Returning 구문으로 정보 리턴 받기\r\n](https://didue.github.io/postgresql-returning/)\r\n\r\n<br/><br/>\r\n+) 이 글은 [여기(이전 블로그)](https://fascinate-zsoo.tistory.com/24)에서 옮겨왔습니다.🙋‍♀️\r\n<br/><br/>\r\n\r\n---\r\n<br/><br/>\r\n\r\n### 참고\r\n\r\n-   [PostgresQL API Document](https://www.postgresqltutorial.com/postgresql-upsert/)","excerpt":"List가 없이 에디터 하나로 insert/update를 해야하는 게시판을 작성하는 업무가 있어서 찾아보다가 라는 것을 알게 되었다!  는 일종의 문 같은 개념으로(postgresql은 merge가 없음......)\n행이 없으면(존재하지않으면) IN…","fields":{"slug":"/postgresql-upsert/"},"frontmatter":{"date":"Jul 23, 2021","title":"(Postgresql) UPSERT 사용하기","tags":["PostgresQL"],"update":"Jan 01, 0001"}}}]}},"pageContext":{}},"staticQueryHashes":["2027115977","694178885"]}